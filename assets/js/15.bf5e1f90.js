(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{303:function(e,s,t){"use strict";t.r(s);var a=t(13),n=Object(a.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"npm-run-dev-后发生了什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-run-dev-后发生了什么"}},[e._v("#")]),e._v(" npm run dev 后发生了什么？")]),e._v(" "),s("h2",{attrs:{id:"npm-run-command"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-run-command"}},[e._v("#")]),e._v(" npm run <command>")]),e._v(" "),s("p",[e._v("这条命令会检查该目录下的 package.json 文件的 script 属性")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[e._v("  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"dev"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"vite"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"build"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"vite build"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"preview"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"vite preview"')]),e._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n")])])]),s("p",[e._v("你也可以使用 "),s("code",[e._v("npm run")]),e._v("，系统会列出所有可使用的命令")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("Scripts available "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" tagging-music@0.1.0 via "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run-script"),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")])]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v("\n  dev\n    vite        \n  build\n    vite build  \n  preview       \n    vite preview\n")])])]),s("ul",[s("li",[s("p",[e._v("若找不到 package.json，则会一直向上一级文件夹寻找。如果还是找不到，则会报错 "),s("code",[e._v("no such file or directory, open '<project_src>\\package.json'")])])]),e._v(" "),s("li",[s("p",[e._v("若找到了 package.json 但是没有该指令，会报错 "),s("code",[e._v('Missing script: "<command>"')])])]),e._v(" "),s("li",[s("p",[e._v("若找到了该指令，则会到该目录的 "),s("code",[e._v("node_modules/.bin")]),e._v(" 文件夹下寻找对应的指令文件（bin = binary 可执行二进制文件）")])])]),e._v(" "),s("p",[e._v("![[Pasted image 20220620151928.png]]")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("该文件开头的"),s("code",[e._v("#!/bin/sh")]),e._v("说明了这是一个可执行的 shell 脚本")])]),e._v(" "),s("li",[s("p",[s("code",[e._v("npm")]),e._v(" 会把 "),s("code",[e._v("node_modules")]),e._v(" 下的"),s("code",[e._v(".bin")]),e._v(" 目录添加到 "),s("code",[e._v("$PATH")]),e._v("环境变量，因此可以全局执行。执行完后再删掉。")])]),e._v(" "),s("li",[s("p",[e._v("tips: 如果安装的时候使用了 -g 标识符全局安装，则会永久被添加进环境变量中，变得可全局执行。如果不想全局安装又想运行某个包，可以使用 "),s("code",[e._v("npx run <packageName>")]),e._v("。该命令会直接调用已安装的包")])])]),e._v(" "),s("h3",{attrs:{id:"以-vue-cli-service-为例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#以-vue-cli-service-为例"}},[e._v("#")]),e._v(" 以 vue-cli-service 为例：")]),e._v(" "),s("p",[s("code",[e._v("node_modules\\.bin\\vue-cli-service")]),e._v(" 相当于一个快捷方式，但它指向的是 "),s("code",[e._v("node_modules\\@vue\\cli-service\\bin\\vue-cli-service.js")]),e._v("。")]),e._v(" "),s("ul",[s("li",[e._v("综上所述，"),s("code",[e._v("npm run serve")]),e._v(" 就是在运行 "),s("code",[e._v("vue-cli-service.js")]),e._v(" 这个 "),s("code",[e._v("js")]),e._v(" 文件")])]),e._v(" "),s("h2",{attrs:{id:"ref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ref"}},[e._v("#")]),e._v(" ref")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://juejin.cn/post/7097947121210359839",target:"_blank",rel:"noopener noreferrer"}},[e._v("输入 npm run xxx 后发生了什么？"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"http://drinkmilker.com/index.php/archives/33/",target:"_blank",rel:"noopener noreferrer"}},[e._v("npm run serve 后发生了什么"),s("OutboundLink")],1),e._v(" （该文章包含vue-cli-service.js 的函数解析）")])])])}),[],!1,null,null,null);s.default=n.exports}}]);