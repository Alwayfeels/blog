# 编程范式

---

April 4, 2022 

你一定听说命令式编程、声明式编程、函数式编程、面向对象式编程…… 这些术语大多工程师都认识一部分。

但是你能说清楚它们互相之间的联系吗 ？

![Untitled](%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F%20cd83f/Untitled.png)

它们都是一个东西：被称为编程范式（Programming paradigm）

## 编程范式和设计模式的区别

- 设计模式（design pattern）是对软件设计中普遍存在（反复出现）的各种问题，所提出的解决方案。
- 编程范式（Programming paradigm）是指软件工程中的一类典型的编程风格。

```
编程范式体现编写程序的人如何看待程序设计的“哲学观”；
程序设计模式则是解决一系列实际问题的“方法学”
```

编程范式之所以有这么多的衍生，是因为它们在程序设计中对于某个观念产生了分歧，比如有人觉得单向数据流好，而有人认为双向数据流好，于是就分为两派编程思想。

类似的还有 面向对象 vs 面向过程，命令式 vs 声明式 我们需要关注双方的分歧点，而不是拘泥于认识它们的名字。并且我们只用记住常见的几种范式就好了。

需要注意的是，一个编程语言可能同时支持多种编程范式，例如 [C++](https://zh.wikipedia.org/wiki/C%2B%2B) 设计时，支持[过程式编程](https://zh.wikipedia.org/wiki/%E8%BF%87%E7%A8%8B%E5%BC%8F%E7%BC%96%E7%A8%8B)（并非面向过程）、[面向对象编程](https://zh.wikipedia.org/wiki/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B)以及[泛型编程](https://zh.wikipedia.org/wiki/%E6%B3%9B%E5%9E%8B%E7%BC%96%E7%A8%8B)。这是因为它们分别代表不同的维度，就像你可以向南的同时向下走一样。

---

## 命令式编程（Imperative programming）

命令式编程（也称指令式编程）就是一步一步直接命令计算机做什么，计算机一行一行的执行对应的命令。主要思想是关注计算机执行的步骤，而非目的。

命令式编程是一个很大的概念，只要符合上面的定义，你就能认为它是命令式的。

大部分编程语言例如 C，LISP 都有命令式编程的思想

```jsx
const res = [];
for (let i = 0, len = arr.length; i < len; i++) {
  res.push(arr[i].toLowerCase());
}
```

**命令式编程** 与 **声明式编程 是互相对立的关系：它们的分歧点在于，程序应该告诉计算机执行任务目的还是过程**

---

## 声明式编程（Declarative programming）

**声明式编程 注重建造计算机程序的结构和元素，表达计算逻辑而非描述控制流程**。告诉计算机需要计算 “什么” 而不是 “如何” 去计算。其特点是不需要创建变量用来存储数据。

也有人认为一切非命令式的范式都可以认为是声明式。

SQL，正则表达式 属于声明式语言

```sql
select * from table where rownum =10;
```

---

## 函数式编程（Functional programming）

函数式编程的核心在于函数（听起来像是废话）。

在函数式编程中，函数是头等对象，意思是说一个函数，既可以作为其它函数的输入参数值，也可以从函数中返回值，被修改或者被分配给一个变量。

- 函数将程序的细节隐藏起来，提升了抽象等级和复用性。例如你需要判断一个字符串是否是回文（Palindrome），在函数式编程中，你只需要编写一个字符串翻转方法 `reverse` ，再对比 `reverse` 方法返回的结果是否和原字符串是否相同即可，当然这个方法 `isPalindrome` 也要作为函数参数在 `console.log` 展示结果。

```jsx
function reverse(str) { ... }
function isPalindrome(str) { ... }

console.log(isPalindrome('http')) // false
```

需要注意的是，函数式编程一般避免使用程序状态。比如 “向左” 就是一种带状态的指令，“向南” 则不是，在地球上的同一地点，“南” 总是指向一个方向，而 “左” 则不一定。函数式编程推崇 “向南” 式的程序设计，因为它不会产生误解，没有 “副作用”。

这种在相同的输入值时，总是产生相同的输出的函数。被称为**纯函数。**

---

## 面向对象式编程（Object-oriented programming）

OOP可以说是老熟人了，它将对象作为程序的基本单元，将程序和数据封装其中，以提高软件的重用性、灵活性和扩展性。

面向对象程序设计可以看作一种在程序中包含各种独立而又互相调用的对象的思想，这与传统的思想刚好相反：

- 传统的程序设计主张将程序看作一系列[函数](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0)的集合，或者直接就是一系列对电脑下达的指令。
- 面向对象程序设计中的每一个对象都应该能够接受数据、处理数据并将数据传达给其它对象，因此它们都可以被看作一个小型的“机器”

```jsx
// 例子
Palindrome() { ... }

let myPalindrome = new Palindrome('http') 
myPalindrome.value // 'http'
myPalindrome.isPalindrome() // false
myPalindrome.translateToPalindrome() // ['htth', 'pttp']
myPalindrome.expandToPalindrome() // ['ptthttp', 'httptth']
```

面向对象更加的符合现实社会中的规律，现实世界的每一个物体都存在其属性和方法（功能）。OOP通过对现实世界的模拟，更好的被人所理解，分析，和设计。

---

## 响应式编程（Reactive programming）

响应式编程是一种面向数据流和变化传播的声明式编程范式。

例如，在命令式编程环境中，a = b + c 表示将表达式的结果赋给 a。而之后改变 b 或 c  的值不会影响 a 。但在响应式编程中，a 的值会随着 b 或 c 的更新而更新。

Excel 就是响应式编程的一个例子。单元格可以包含字面值或类似"=B1+C1"的公式，而包含公式的单元格的值会依据其他单元格的值的变化而变化 。

- 响应式的概念也由此而来，MVVM 系统中 ViewModel 会根据数据的修改自动更新视图，也是响应式的一种体现。

---

## 数据驱动编程（Data-driven programming）

数据驱动编程范式是相对于事件驱动而言的，数据驱动不在乎用户的操作触发了什么事件，而主要关心用户修改了哪些数据（无论是通过任何方式修改的）。根据数据来展示当前程序的状态。

---

## 事件驱动编程（**Event-driven programming**）

这种模型的程序执行流程是由用户的动作（如鼠标的按键，键盘的按键动作）或者是由其他程序的消息来决定的，浏览器中的web程序就是基于事件驱动的。

这种模式也是区别于传统的 命令-执行 的方式，但实际上用户的点击和输入，也就等于是一个个指令。

---

### 参考:

[命令式编程(Imperative)、声明式编程(Declarative)和函数式编程(Functional)](https://www.cnblogs.com/sirkevin/p/8283110.html)

[https://zh.wikipedia.org/wiki/编程范型](https://zh.wikipedia.org/wiki/%E7%BC%96%E7%A8%8B%E8%8C%83%E5%9E%8B)

[https://zh.wikipedia.org/wiki/函数式编程](https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B)

[https://zh.wikipedia.org/wiki/指令式編程](https://zh.wikipedia.org/wiki/%E6%8C%87%E4%BB%A4%E5%BC%8F%E7%B7%A8%E7%A8%8B)

[https://segmentfault.com/a/1190000015924762](https://segmentfault.com/a/1190000015924762)

[https://www.jianshu.com/p/7b331fa158a0](https://www.jianshu.com/p/7b331fa158a0)